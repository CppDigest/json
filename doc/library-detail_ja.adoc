https://www.boost.org/doc/libs/release/libs/json/[image:https://raw.githubusercontent.com/CPPAlliance/json/master/doc/images/repo-logo-3.png[Boost.JSON]]

[width="100%", cols="12%,43%,45%", options="header"]
|===
|ブランチ |https://github.com/boostorg/json/tree/master[`master`]
|https://github.com/boostorg/json/tree/develop[`develop`]
|https://azure.microsoft.com/en-us/services/devops/pipelines/[Azure]
|https://vinniefalco.visualstudio.com/json/_build/latest?definitionId=5&branchName=master[image:https://img.shields.io/azure-devops/build/vinniefalco/2571d415-8cc8-4120-a762-c03a8eda0659/8/master[ビルドステータス]]
|https://vinniefalco.visualstudio.com/json/_build/latest?definitionId=8&branchName=develop[image:https://img.shields.io/azure-devops/build/vinniefalco/2571d415-8cc8-4120-a762-c03a8eda0659/8/develop[ビルドステータス]]

|ドキュメント
|https://www.boost.org/doc/libs/master/libs/json/[image:https://img.shields.io/badge/docs-master-brightgreen.svg[ドキュメント]]
|https://www.boost.org/doc/libs/develop/libs/json/[image:https://img.shields.io/badge/docs-develop-brightgreen.svg[ドキュメント]]

|https://drone.io/[Drone]
|https://drone.cpp.al/boostorg/json[image:https://drone.cpp.al/api/badges/boostorg/json/status.svg?ref=refs/heads/master[ビルドステータス]]
|https://drone.cpp.al/boostorg/json[image:https://drone.cpp.al/api/badges/boostorg/json/status.svg?ref=refs/heads/develop[ビルドステータス]]

|マトリックス
|http://www.boost.org/development/tests/master/developer/json.html[image:https://img.shields.io/badge/matrix-master-brightgreen.svg[マトリックス]]
|http://www.boost.org/development/tests/develop/developer/json.html[image:https://img.shields.io/badge/matrix-develop-brightgreen.svg[マトリックス]]

|ファジング |—
|https://github.com/boostorg/json/actions?query=workflow%3Afuzz+branch%3Adevelop[image:https://github.com/boostorg/json/workflows/fuzz/badge.svg?branch=develop[ファジング]]

|https://ci.appveyor.com/[Appveyor]
|https://ci.appveyor.com/project/vinniefalco/cppalliance-json/branch/master[image:https://ci.appveyor.com/api/projects/status/8csswcnmfm798203?branch=master&svg=true[ビルドステータス]]
|https://ci.appveyor.com/project/vinniefalco/cppalliance-json/branch/develop[image:https://ci.appveyor.com/api/projects/status/8csswcnmfm798203?branch=develop&svg=true[ビルドステータス]]

|https://codecov.io[codecov.io]
|https://codecov.io/gh/boostorg/json/branch/master[image:https://codecov.io/gh/boostorg/json/branch/master/graph/badge.svg[codecov]]
|https://codecov.io/gh/boostorg/json/branch/develop[image:https://codecov.io/gh/boostorg/json/branch/develop/graph/badge.svg[codecov]]
|===

== Boost.JSON

=== 概要

Boost.JSONは、JavaScript Object Notation（略してJSON）を実装するコンテナとアルゴリズムを提供するポータブルなC++ライブラリです。JSONは軽量なデータ交換フォーマットであり、人間が読み書きしやすく、機械が解析・生成しやすい形式です。JavaScriptプログラミング言語のサブセット（https://www.ecma-international.org/ecma-262/10.0/index.html[Standard ECMA-262]）に基づいており、現在はhttps://datatracker.ietf.org/doc/html/rfc8259[RFC 8259]で標準化されています。JSONは言語に依存しないテキスト形式ですが、C、C++、C#、Java、JavaScript、Perl、Pythonなど、Cファミリー言語のプログラマーに馴染み深い規則を使用しています。これらの特性により、JSONは理想的なデータ交換言語となっています。

このライブラリは、一般的で人気のあるユースケースに焦点を当てています：JSON型を保持する`value`と呼ばれるコンテナとの間のパースとシリアライズです。構築した`value`はシリアライズおよびデシリアライズが可能で、結果が元の値と等しくなることが保証されます。このライブラリで生成するJSON出力は、あらゆる言語の一般的なJSON実装のほとんどで読み取ることができます。

`value`コンテナは、公開インターフェースやライブラリで使用するのに適した語彙型として設計されており、それらを組み合わせることが可能です。本ライブラリは、表現可能なデータ型を、特にJavaScriptを含むほとんどのJSON実装でほぼ普遍的に受け入れられている範囲に制限しています。パーサーとシリアライザーはどちらも高性能であり、同等の最良のライブラリのベンチマーク性能に匹敵するかそれを上回ります。アロケータのサポートも非常に充実しています。これらの型を使用するコードは、理解しやすく、柔軟性が高く、高性能です。

Boost.JSONは以下の機能を提供します：

* 高速なコンパイル
* C++11のみを要求
* 高速なストリーミングパーサーとシリアライザー
* オブジェクトの定数時間キー検索
* 非標準JSONを許可するオプション
* アロケータサポートを備えたモダンで安全なAPI
* ライブラリにリンクせずにヘッダーのみで使用可能（オプション）

完全なドキュメントは https://boost.org/libs/json を参照してください。

=== 要件

* C++11のみを要求
* ビルド済みの静的または動的Boostライブラリにリンクするか、ヘッダーのみを使用（下記参照）
* -fno-exceptions をサポート（自動検出）

本ライブラリは、そのインターフェースにおいて以下のよく知られたC++型に大きく依存しています（以下、標準型と呼びます）：

* `string_view`
* `memory_resource`, `polymorphic_allocator`
* `error_category`, `error_code`, `error_condition`, `system_error`

==== ヘッダーのみ使用

ヘッダーのみで使用する場合、つまりプログラムを静的または動的なBoost.JSONライブラリにリンクする必要をなくすには、プロジェクト内の正確に1つのソースファイル（新規または既存）に以下の行を配置します。

....
#include <boost/json/src.hpp>
....

MSVCユーザーは、自動リンクを無効にするためにマクロ `BOOST_JSON_NO_LIB` を定義する必要もあります。

==== 組み込み

Boost.JSONは組み込みデバイスでも優れた動作をします。本ライブラリは、一部の操作のパフォーマンスを向上させるためにローカルのスタックバッファを使用します。Intelプラットフォームではこれらのバッファは大きく（4KB）、非Intelプラットフォームでは小さくなります（256バイト）。組み込みアプリケーション向けにスタックバッファのサイズを調整するには、ライブラリをビルドする際または関数定義を含む際にこのマクロを定義します：

....
#define BOOST_JSON_STACK_BUFFER_SIZE 1024
#include <boost/json/src.hpp>
....

==== サポートされるコンパイラ

Boost.JSONは以下のコンパイラでテストされています：

* clang: 3.5, 3.6, 3.7, 3.8, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14
* gcc: 4.8, 4.9, 5, 6, 7, 8, 9, 10, 11, 12
* msvc: 14.0, 14.1, 14.2, 14.3

==== サポートされるJSONテキスト

本ライブラリは入力テキストがUTF-8でエンコードされていることを想定しています。これは、システム間で交換されるすべてのJSONにhttps://datatracker.ietf.org/doc/html/rfc8259#section-8.1[RFC]によって課せられた要件です。同様に、ライブラリによって生成されるテキストは有効なUTF-8です。

RFCはJSONテキストにバイトオーダーマーク（BOM）が出現することを許可していないため、本ライブラリはBOMを構文エラーとみなします。

本ライブラリはいくつかの一般的なJSON拡張をサポートしています。これらは明示的に有効にする必要があります。

==== Visual Studioソリューション

....
cmake -G "Visual Studio 16 2019" -A Win32 -B bin -DCMAKE_TOOLCHAIN_FILE=cmake/toolchains/msvc.cmake
cmake -G "Visual Studio 16 2019" -A x64 -B bin64 -DCMAKE_TOOLCHAIN_FILE=cmake/toolchains/msvc.cmake
....

=== 品質保証

本ライブラリの開発インフラストラクチャには、コミットごとの以下の分析が含まれます：

* カバレッジレポート
* ベンチマーク性能比較
* Drone.io、Azure Pipelines、Appveyorでのコンパイルとテスト
* clang-llvmと機械学習を使用したファジング

=== ライセンス

Boost Software License, Version 1.0 のもとで配布されます。（付属のファイル LICENSE_1_0.txt を参照するか、https://www.boost.org/LICENSE_1_0.txt でコピーを入手してください）
