https://www.boost.org/doc/libs/release/libs/json/[image:https://raw.githubusercontent.com/CPPAlliance/json/master/doc/images/repo-logo-3.png[Boost.JSON]]

[width="100%", cols="12%,43%,45%", options="header"]
|===
|Ветка |https://github.com/boostorg/json/tree/master[`master`]
|https://github.com/boostorg/json/tree/develop[`develop`]
|https://azure.microsoft.com/en-us/services/devops/pipelines/[Azure]
|https://vinniefalco.visualstudio.com/json/_build/latest?definitionId=5&branchName=master[image:https://img.shields.io/azure-devops/build/vinniefalco/2571d415-8cc8-4120-a762-c03a8eda0659/8/master[Статус сборки]]
|https://vinniefalco.visualstudio.com/json/_build/latest?definitionId=8&branchName=develop[image:https://img.shields.io/azure-devops/build/vinniefalco/2571d415-8cc8-4120-a762-c03a8eda0659/8/develop[Статус сборки]]

|Документация
|https://www.boost.org/doc/libs/master/libs/json/[image:https://img.shields.io/badge/docs-master-brightgreen.svg[Документация]]
|https://www.boost.org/doc/libs/develop/libs/json/[image:https://img.shields.io/badge/docs-develop-brightgreen.svg[Документация]]

|https://drone.io/[Drone]
|https://drone.cpp.al/boostorg/json[image:https://drone.cpp.al/api/badges/boostorg/json/status.svg?ref=refs/heads/master[Статус сборки]]
|https://drone.cpp.al/boostorg/json[image:https://drone.cpp.al/api/badges/boostorg/json/status.svg?ref=refs/heads/develop[Статус сборки]]

|Матрица сборки
|http://www.boost.org/development/tests/master/developer/json.html[image:https://img.shields.io/badge/matrix-master-brightgreen.svg[Матрица]]
|http://www.boost.org/development/tests/develop/developer/json.html[image:https://img.shields.io/badge/matrix-develop-brightgreen.svg[Матрица]]

|Фаззинг |—
|https://github.com/boostorg/json/actions?query=workflow%3Afuzz+branch%3Adevelop[image:https://github.com/boostorg/json/workflows/fuzz/badge.svg?branch=develop[fuzz]]

|https://ci.appveyor.com/[Appveyor]
|https://ci.appveyor.com/project/vinniefalco/cppalliance-json/branch/master[image:https://ci.appveyor.com/api/projects/status/8csswcnmfm798203?branch=master&svg=true[Статус сборки]]
|https://ci.appveyor.com/project/vinniefalco/cppalliance-json/branch/develop[image:https://ci.appveyor.com/api/projects/status/8csswcnmfm798203?branch=develop&svg=true[Статус сборки]]

|https://codecov.io[codecov.io]
|https://codecov.io/gh/boostorg/json/branch/master[image:https://codecov.io/gh/boostorg/json/branch/master/graph/badge.svg[codecov]]
|https://codecov.io/gh/boostorg/json/branch/develop[image:https://codecov.io/gh/boostorg/json/branch/develop/graph/badge.svg[codecov]]
|===

== Boost.JSON

=== Обзор

Обновление до версии 1.90.0

Boost.JSON — это переносимая библиотека C++, предоставляющая контейнеры и алгоритмы для работы с форматом https://json.org/[JavaScript Object Notation] (или просто JSON) — легковесным форматом обмена данными. Этот формат удобен для чтения и записи людьми, а также для анализа и генерации машинами. Он основан на подмножестве языка программирования JavaScript (https://www.ecma-international.org/ecma-262/10.0/index.html[стандарт ECMA-262]) и в настоящее время стандартизирован в https://datatracker.ietf.org/doc/html/rfc8259[RFC 8259]. JSON — это текстовый формат, не зависящий от языка, но использующий соглашения, знакомые программистам семейства языков C, включая C, C++, C#, Java, JavaScript, Perl, Python и многие другие. Эти свойства делают JSON идеальным языком обмена данными.

Эта библиотека ориентирована на распространенный и популярный сценарий использования: разбор и сериализацию в контейнер `value`, содержащий типы JSON, и обратно. Любой созданный вами `value` может быть сериализован, а затем десериализован с гарантией, что результат будет равен исходному значению. Любой вывод JSON, созданный с помощью этой библиотеки, будет читаем большинством распространенных реализаций JSON на любом языке.

Контейнер `value` разработан как тип словаря, подходящий для использования в публичных интерфейсах и библиотеках, позволяя их композицию. Библиотека ограничивает представляемые типы данных диапазонами, которые почти повсеместно принимаются большинством реализаций JSON, особенно JavaScript. Парсер и сериализатор обладают высокой производительностью, соответствуя или превосходя эталонные показатели лучших аналогичных библиотек. Аллокаторы поддерживаются на высоком уровне. Код, использующий эти типы, будет понятным, гибким и производительным.

Boost.JSON предлагает следующие возможности:

* Быстрая компиляция
* Требуется только C++11
* Быстрый потоковый парсер и сериализатор
* Поиск ключей в объектах за постоянное время
* Опции для разрешения нестандартного JSON
* Простой и безопасный современный API с поддержкой аллокаторов
* Опциональная работа только с заголовочными файлами без линковки с библиотекой

Полную документацию см. на https://boost.org/libs/json.

=== Требования

* Требуется только C++11
* Ссылка на собранную статическую или динамическую библиотеку Boost, либо использование только заголовочных файлов (см. ниже)
* Поддерживает -fno-exceptions, определяется автоматически

Библиотека активно использует в своих интерфейсах следующие известные типы C++ (далее именуемые _стандартными типами_):

* `string_view`
* `memory_resource`, `polymorphic_allocator`
* `error_category`, `error_code`, `error_condition`, `system_error`

==== Только заголовочные файлы

Для использования в режиме только заголовочных файлов (то есть для исключения требования линковки программы со статической или динамической библиотекой Boost.JSON) достаточно добавить следующую строку ровно в один новый или существующий исходный файл вашего проекта.

....
#include <boost/json/src.hpp>
....

Пользователи MSVC также должны определить макрос `BOOST_JSON_NO_LIB` для отключения автоматической линковки.

==== Встраиваемые системы

Boost.JSON отлично работает на встраиваемых устройствах. Библиотека использует локальные буферы в стеке для повышения производительности некоторых операций. На платформах Intel эти буферы большие (4 КБ), а на не-Intel платформах — маленькие (256 байт). Чтобы изменить размер стековых буферов для встраиваемых приложений, определите этот макрос при сборке библиотеки или включении определений функций:

....
#define BOOST_JSON_STACK_BUFFER_SIZE 1024
#include <boost/json/src.hpp>
....

==== Поддерживаемые компиляторы

Boost.JSON тестировалась со следующими компиляторами:

* clang: 3.5, 3.6, 3.7, 3.8, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14
* gcc: 4.8, 4.9, 5, 6, 7, 8, 9, 10, 11, 12
* msvc: 14.0, 14.1, 14.2, 14.3

==== Поддерживаемый текст JSON

Библиотека ожидает, что входной текст закодирован в UTF-8, что является требованием RFC для всего JSON, обмениваемого между системами (https://datatracker.ietf.org/doc/html/rfc8259#section-8.1[RFC]). Аналогично, текст, генерируемый библиотекой, является валидным UTF-8.

RFC не разрешает использование меток порядка байтов (BOM) в тексте JSON, поэтому библиотека считает BOM синтаксическими ошибками.

Библиотека поддерживает несколько популярных расширений JSON. Они должны быть явно включены.

==== Решение Visual Studio

....
cmake -G "Visual Studio 16 2019" -A Win32 -B bin -DCMAKE_TOOLCHAIN_FILE=cmake/toolchains/msvc.cmake
cmake -G "Visual Studio 16 2019" -A x64 -B bin64 -DCMAKE_TOOLCHAIN_FILE=cmake/toolchains/msvc.cmake
....

=== Обеспечение качества

Инфраструктура разработки библиотеки включает следующие проверки при каждом коммите:

* Отчеты о покрытии кода
* Сравнение производительности по бенчмаркам
* Компиляция и тестирование на Drone.io, Azure Pipelines, Appveyor
* Фаззинг с использованием clang-llvm и машинного обучения

=== Лицензия

Распространяется под лицензией Boost Software License, версия 1.0. (См. прилагаемый файл LICENSE_1_0.txt или копию по адресу https://www.boost.org/LICENSE_1_0.txt)
